; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 41
OpCapability Shader
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint GLCompute %17 "main" %23
OpExecutionMode %17 LocalSize 1 1 1
OpMemberName %10 0 "arr"
OpMemberName %10 1 "atom"
OpMemberName %10 2 "atom_arr"
OpName %10 "WStruct"
OpName %11 "w_mem"
OpName %13 "output"
OpName %17 "main"
OpDecorate %4 ArrayStride 4
OpDecorate %7 ArrayStride 4
OpDecorate %9 ArrayStride 32
OpMemberDecorate %10 0 Offset 0
OpMemberDecorate %10 1 Offset 2048
OpMemberDecorate %10 2 Offset 2052
OpDecorate %13 DescriptorSet 0
OpDecorate %13 Binding 0
OpDecorate %14 Block
OpMemberDecorate %14 0 Offset 0
OpDecorate %23 BuiltIn LocalInvocationIndex
%2 = OpTypeVoid
%3 = OpTypeInt 32 0
%5 = OpConstant  %3  512
%4 = OpTypeArray %3 %5
%6 = OpTypeInt 32 1
%8 = OpConstant  %3  8
%7 = OpTypeArray %6 %8
%9 = OpTypeArray %7 %8
%10 = OpTypeStruct %4 %6 %9
%12 = OpTypePointer Workgroup %10
%11 = OpVariable  %12  Workgroup
%14 = OpTypeStruct %4
%15 = OpTypePointer StorageBuffer %14
%13 = OpVariable  %15  StorageBuffer
%18 = OpTypeFunction %2
%19 = OpTypePointer StorageBuffer %4
%20 = OpConstant  %3  0
%24 = OpTypePointer Input %3
%23 = OpVariable  %24  Input
%29 = OpConstant  %3  1
%30 = OpTypeBool
%33 = OpConstantNull  %10
%35 = OpConstant  %3  2
%36 = OpConstant  %3  264
%38 = OpTypePointer Workgroup %4
%17 = OpFunction  %2  None %18
%16 = OpLabel
%21 = OpAccessChain  %19  %13 %20
OpBranch %22
%22 = OpLabel
%25 = OpLoad  %3  %23
OpBranch %27
%27 = OpLabel
%28 = OpULessThan  %30  %25 %29
OpSelectionMerge %31 None
OpBranchConditional %28 %32 %31
%32 = OpLabel
OpStore %11 %33
OpBranch %34
%34 = OpLabel
OpBranch %31
%31 = OpLabel
OpBranch %26
%26 = OpLabel
OpControlBarrier %35 %35 %36
OpBranch %37
%37 = OpLabel
%39 = OpAccessChain  %38  %11 %20
%40 = OpLoad  %4  %39
OpStore %21 %40
OpReturn
OpFunctionEnd