; SPIR-V
; Version: 1.5
; Generator: Google rspirv; 0
; Bound: 62
; Schema: 0
               OpCapability Shader
               OpCapability VulkanMemoryModel
               OpMemoryModel Logical Vulkan
               OpEntryPoint GLCompute %1 "stage::test_atomic_compare_exchange" %2 %3
               OpExecutionMode %1 LocalSize 32 1 1
               OpMemberDecorate %_struct_11 0 Offset 0
               OpMemberDecorate %_struct_11 1 Offset 4
               OpDecorate %_struct_12 Block
               OpMemberDecorate %_struct_12 0 Offset 0
               OpDecorate %2 Binding 0
               OpDecorate %2 DescriptorSet 0
               OpDecorate %3 NonWritable
               OpDecorate %3 Binding 1
               OpDecorate %3 DescriptorSet 0
       %uint = OpTypeInt 32 0
       %void = OpTypeVoid
         %15 = OpTypeFunction %void
       %bool = OpTypeBool
     %uint_0 = OpConstant %uint 0
     %uint_2 = OpConstant %uint 2
      %false = OpConstantFalse %bool
%_ptr_StorageBuffer_uint = OpTypePointer StorageBuffer %uint
     %uint_1 = OpConstant %uint 1
 %_struct_11 = OpTypeStruct %uint %uint
         %22 = OpUndef %_struct_11
     %uint_3 = OpConstant %uint 3
        %int = OpTypeInt 32 1
       %true = OpConstantTrue %bool
 %_struct_12 = OpTypeStruct %uint
%_ptr_StorageBuffer__struct_12 = OpTypePointer StorageBuffer %_struct_12
          %2 = OpVariable %_ptr_StorageBuffer__struct_12 StorageBuffer
          %3 = OpVariable %_ptr_StorageBuffer__struct_12 StorageBuffer
   %uint_256 = OpConstant %uint 256
          %1 = OpFunction %void None %15
         %28 = OpLabel
         %29 = OpAccessChain %_ptr_StorageBuffer_uint %2 %uint_0
         %30 = OpAccessChain %_ptr_StorageBuffer_uint %3 %uint_0
         %31 = OpLoad %uint %30
         %32 = OpCompositeConstruct %_struct_11 %uint_0 %31
               OpBranch %33
         %33 = OpLabel
         %34 = OpPhi %_struct_11 %32 %28 %35 %36
               OpLoopMerge %37 %36 None
               OpBranch %38
         %38 = OpLabel
         %39 = OpCompositeExtract %uint %34 0
         %40 = OpCompositeExtract %uint %34 1
         %41 = OpULessThan %bool %39 %40
               OpSelectionMerge %42 None
               OpBranchConditional %41 %43 %44
         %43 = OpLabel
         %46 = OpIAdd %uint %39 %uint_1
         %48 = OpCompositeInsert %_struct_11 %46 %34 0
         %49 = OpCompositeConstruct %_struct_11 %uint_1 %39
               OpBranch %42
         %44 = OpLabel
         %50 = OpCompositeInsert %_struct_11 %uint_0 %22 0
               OpBranch %42
         %42 = OpLabel
         %51 = OpPhi %_struct_11 %48 %43 %34 %44
         %52 = OpPhi %_struct_11 %49 %43 %50 %44
         %53 = OpCompositeExtract %uint %52 0
         %54 = OpCompositeExtract %uint %52 1
         %55 = OpBitcast %int %53
               OpSelectionMerge %56 None
               OpSwitch %55 %57 0 %58 1 %59
         %57 = OpLabel
               OpBranch %56
         %58 = OpLabel
               OpBranch %56
         %59 = OpLabel
         %60 = OpAtomicCompareExchange %uint %29 %uint_2 %uint_256 %uint_256 %54 %uint_3
               OpBranch %56
         %56 = OpLabel
         %61 = OpPhi %bool %false %57 %false %58 %true %59
         %35 = OpPhi %_struct_11 %22 %57 %22 %58 %51 %59
               OpBranch %36
         %36 = OpLabel
               OpBranchConditional %61 %33 %37
         %37 = OpLabel
               OpReturn
               OpFunctionEnd
